# Steam用户评测接口文档

详见：[用户评测 - 获得列表 （Steamworks 文献库）](https://partner.steamgames.com/doc/store/getreviews)

如果您希望取得 Steam 上某一应用程序的评论转储，可使用此方法并传入下列参数：

## 参数

```http
GET store.steampowered.com/appreviews/<appid>?json=1
```

| 名称                     | 类型   | 是否必需 | 描述                                                         |
| ------------------------ | ------ | -------- | ------------------------------------------------------------ |
| filter                   | string | &#10004; | recent – 按创建时间排序<br />updated – 按最近更新时间排序<br />all – （默认）按有用性排序，基于 day_range 参数的滑动时间窗口，总是能够返回结果。<br /><br />如果使用 `cursor` 对评测进行遍历，可以选择“recent”选项或“updated”选项，直至最终收到的响应列表为空。 |
| language                 | string | &#10004; | 请参见 https://partner.steamgames.com/doc/store/localization/languages（并使用 API 语言代码表）或传入“all”取得所有评测。 |
| day_range                | string | &#10004; | 从现在至 N 天前，查找有用的评测。 仅适用于“all” 筛选器。 最大值为 365。 |
| cursor                   | string | &#10004; | 每批返回 20 条评测，因此为第一个结果集传入“*”，然后为下一个结果集传入响应中返回的“cursor”值。 请注意，“cursor”值也许包含需要进行 URL 编码才能在查询字符串使用的字符。 |
| review_type              | string | &#10004; | all – 所有评测（默认）<br/>positive – 仅好评<br/>negative – 仅差评 |
| purchase_type            | string | &#10004; | all – 所有评测<br/>non_steam_purchase – 由未在 Steam 上为该产品付费的用户撰写的评测<br/>steam – 由在 Steam 上为该产品付费的用户撰写的评测（默认） |
| num_per_page             | string | &#10004; | 默认情况下，最多可返回 20 条评测。 视此参数而定，可返回更多评测（最多 100 条）。 |
| filter_offtopic_activity | number |          | 默认情况下，跑题的评测（也即“评测轰炸”）会被排除掉，并不会在此 API 中返回。 传入 0 可将其包括在内。 请参见[此处](https://partner.steamgames.com/doc/store/reviews#ReviewBombing)。 |

## 返回

符合参数条件的 JSON 格式评测列表，包含信息字段。 JSON 字符串可能包含转义序列，响应中的数据也许需要在使用前进行非转义。

**响应：**

- `success` - 如果查询成功，为 1。
- `query_summary` - 第一次请求时返回。
    - `num_reviews` - 此响应中返回的评测数量。
    - `review_score` - 评测分数。
    - `review_score_desc` - 评测分数描述。
    - `total_positive` - 正面评测的总数。
    - `total_negative` - 负面评测的总数。
    - `total_reviews` - 符合查询参数的评测总数。
- `cursor` - 作为 `cursor` 传入下一次请求的值，以获取下一批次的评测。
- `reviews`
    - `recommendationid ` - 该推荐的唯一 ID。
    - `author`
        - `steamid ` - 用户的 SteamID。
        - `num_games_owned ` - 用户拥有的游戏数量。
        - `num_reviews ` - 用户撰写的评测数量。
        - `playtime_forever ` - 此应用所记录的总计游戏时间。
        - `playtime_last_two_weeks ` - 此应用所记录的过去两周的游戏时间。
        - `playtime_at_review` - 撰写评测时的游戏时间。
        - `deck_playtime_at_review` - 撰写评测时在 Steam Deck 上的游戏时间。
        - `last_played ` - 用户上次游戏的时间。
    - `language ` - 用户撰写评测时使用的语言。
    - `review ` - 评测文本。
    - `timestamp_created ` - 评测的创建日期（ Unix 时间戳）。
    - `timestamp_updated ` - 上次更新评测的日期（ Unix 时间戳）。
    - `voted_up` - **true** 表示是一则正面推荐。
    - `votes_up` - 认为这篇评测有价值的用户人数。
    - `votes_funny` - 认为这篇评测欢乐的用户人数。
    - `weighted_vote_score ` - 价值分数。
    - `comment_count ` - 这篇评测下的留言数。
    - `steam_purchase ` - **true** 表示用户在 Steam 上购买了此游戏。
    - `received_for_free ` - **true** 表示用户勾选了该应用为免费获得的复选框。
    - `written_during_early_access ` - **true** 表示用户是在抢先体验阶段发表的评测。
    - `developer_response` - 开发者回复文本（如果有）。
    - `timestamp_dev_responded` - 开发者回复的 Unix 时间戳（如适用）。
    - `primarily_steam_deck` - 评测者撰写评测时是否主要是在 Steam Deck 上玩此游戏。